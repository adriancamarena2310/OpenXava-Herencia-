/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DROP TABLE PRACTICA1.FACTURA_DETALLES
DROP TABLE PRACTICA1.FACTURA
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
create table practica1.DocumentoComercial (DTYPE varchar(31) not null, oid varchar(32) not null, anyo integer, fecha date, numero integer, observaciones varchar(255), cliente_numero integer not null, factura_oid varchar(32), primary key (oid))
create table practica1.DocumentoComercial_detalles (DocumentoComercial_oid varchar(32) not null, cantidad integer not null, producto_numero integer)
alter table practica1.DocumentoComercial add constraint FKqxvhhtdl5x1bljcimyej4mksx foreign key (cliente_numero) references practica1.Cliente
alter table practica1.DocumentoComercial add constraint FK4lhtu14i3f0y8m4ohuxww2b48 foreign key (factura_oid) references practica1.DocumentoComercial
alter table practica1.DocumentoComercial_detalles add constraint FKgyn78bk9nimdbk5uxm7ioiib1 foreign key (producto_numero) references practica1.Producto
alter table practica1.DocumentoComercial_detalles add constraint FKq37xaecvr7po697tmegcffoba foreign key (DocumentoComercial_oid) references practica1.DocumentoComercial
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
CREATE SCHEMA FACTURACION AUTHORIZATION SA
create table facturacion.Autor (oid varchar(32) not null, nombre varchar(50), primary key (oid))
create table facturacion.Categoria (oid varchar(32) not null, descripcion varchar(50), primary key (oid))
create table facturacion.Cliente (numero integer not null, codigoPostal integer, municipio varchar(20), providencia varchar(30), viaPublica varchar(30), nombre varchar(50), primary key (numero))
create table facturacion.DocumentoComercial (DTYPE varchar(31) not null, oid varchar(32) not null, anyo integer, fecha date, numero integer, observaciones varchar(255), cliente_numero integer not null, factura_oid varchar(32), primary key (oid))
create table facturacion.DocumentoComercial_detalles (DocumentoComercial_oid varchar(32) not null, cantidad integer not null, producto_numero integer)
create table facturacion.IMAGES (ID varchar(255) not null, GALLERY varchar(255), IMAGE varbinary(16777216), primary key (ID))
create table facturacion.OXDISCUSSIONCOMMENTS (id varchar(32) not null, comment clob(16777216), discussionId varchar(32), time timestamp, userName varchar(30), primary key (id))
create table facturacion.Producto (numero integer not null, descripcion varchar(50), fotos varchar(32), observaciones varchar(255), precio numeric(19,2), autor_oid varchar(32), categoria_oid varchar(32), primary key (numero))
create table facturacion.TuPrimeraEntidad (id varchar(32) not null, descripcion varchar(50), fecha date, importe numeric(19,2), primary key (id))
create index facturacion.IDXbhlx4vunn24ym1tbrlgq8g30m on facturacion.OXDISCUSSIONCOMMENTS (discussionId)
alter table facturacion.DocumentoComercial add constraint FKqxvhhtdl5x1bljcimyej4mksx foreign key (cliente_numero) references facturacion.Cliente
alter table facturacion.DocumentoComercial add constraint FK4lhtu14i3f0y8m4ohuxww2b48 foreign key (factura_oid) references facturacion.DocumentoComercial
alter table facturacion.DocumentoComercial_detalles add constraint FKgyn78bk9nimdbk5uxm7ioiib1 foreign key (producto_numero) references facturacion.Producto
alter table facturacion.DocumentoComercial_detalles add constraint FKq37xaecvr7po697tmegcffoba foreign key (DocumentoComercial_oid) references facturacion.DocumentoComercial
alter table facturacion.Producto add constraint FKmtkejrnklbkimttu99b9jqufw foreign key (autor_oid) references facturacion.Autor
alter table facturacion.Producto add constraint FKc81rcy0vfdn5ewnap5scabhd3 foreign key (categoria_oid) references facturacion.Categoria
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
CREATE SCHEMA PACTICA1 AUTHORIZATION SA
create table pactica1.IMAGES (ID varchar(255) not null, GALLERY varchar(255), IMAGE varbinary(16777216), primary key (ID))
create table pactica1.OXDISCUSSIONCOMMENTS (id varchar(32) not null, comment clob(16777216), discussionId varchar(32), time timestamp, userName varchar(30), primary key (id))
create table pactica1.TuPrimeraEntidad (id varchar(32) not null, descripcion varchar(50), fecha date, importe numeric(19,2), primary key (id))
create index pactica1.IDXbhlx4vunn24ym1tbrlgq8g30m on pactica1.OXDISCUSSIONCOMMENTS (discussionId)
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
create table pactica1.Autor (oid varchar(32) not null, nombre varchar(50), primary key (oid))
create table pactica1.Categoria (oid varchar(32) not null, descripcion varchar(50), primary key (oid))
create table pactica1.Producto (numero integer not null, descripcion varchar(50), fotos varchar(32), observaciones varchar(255), precio numeric(19,2), autor_oid varchar(32), categoria_oid varchar(32), primary key (numero))
alter table pactica1.Producto add constraint FKmtkejrnklbkimttu99b9jqufw foreign key (autor_oid) references pactica1.Autor
alter table pactica1.Producto add constraint FKc81rcy0vfdn5ewnap5scabhd3 foreign key (categoria_oid) references pactica1.Categoria
SET SCHEMA PACTICA1
INSERT INTO PRODUCTO VALUES(2,'1',NULL,'',1.00,NULL,NULL)
COMMIT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C38*/SET SCHEMA PRACTICA1
INSERT INTO DOCUMENTOCOMERCIAL VALUES('Factura','4028c4ef83c018dd0183c019d2cc0000',2022,'2022-10-09',1,'',15,NULL)
INSERT INTO DOCUMENTOCOMERCIAL_DETALLES VALUES('4028c4ef83c018dd0183c019d2cc0000',0,2)
COMMIT
INSERT INTO DOCUMENTOCOMERCIAL VALUES('Factura','4028c4ef83c018dd0183c01ab6d90001',2022,'2022-10-09',2,'',123,NULL)
INSERT INTO DOCUMENTOCOMERCIAL_DETALLES VALUES('4028c4ef83c018dd0183c01ab6d90001',0,2)
COMMIT
INSERT INTO DOCUMENTOCOMERCIAL VALUES('Pedido','4028c4ef83c018dd0183c01ca7740002',2022,'2022-10-09',3,'',15,NULL)
INSERT INTO DOCUMENTOCOMERCIAL_DETALLES VALUES('4028c4ef83c018dd0183c01ca7740002',0,12)
COMMIT
DELETE FROM DOCUMENTOCOMERCIAL WHERE OID='4028c4ef83c018dd0183c01ca7740002'
INSERT INTO DOCUMENTOCOMERCIAL VALUES('Pedido','4028c4ef83c018dd0183c01ca7740002',2022,'2022-10-09',3,'',15,'4028c4ef83c018dd0183c019d2cc0000')
DELETE FROM DOCUMENTOCOMERCIAL_DETALLES WHERE DOCUMENTOCOMERCIAL_OID='4028c4ef83c018dd0183c01ca7740002' AND CANTIDAD=0 AND PRODUCTO_NUMERO=12
INSERT INTO DOCUMENTOCOMERCIAL_DETALLES VALUES('4028c4ef83c018dd0183c01ca7740002',0,12)
COMMIT
